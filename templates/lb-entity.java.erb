package de.andarte.recipes.models;

import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;

/**
 * <%= @table_name.singular.camelize %>Entity
 *
 * Licensed under GNU AGPL v3
 */
@Entity
@Getter
@Setter
@NoArgsConstructor
@AllArgsConstructor
@Builder
@Table("<%= @table_name %>")
class <%= @table_name.singular.camelize %>Entity {
  <% @columns.each do |col| %>
    <%= "@Id" if col.primaryKey %>
    <%= "@GeneratedValue(strategy=GenerationType.AUTO)" if col.primaryKey %>
    <%= "@NotNull" unless col.nullable %>
    <%= "@Column(\"#{col.name}\")" %>
    private <%= col.type %> <%= col.name.camelize(false)}; %>
  <% end %>
}
